var express=require("express"),swig=require("swig"),cons=require("consolidate"),env="production",app=express(),server=require("http").createServer(app);app.engine(".html",cons.swig),app.set("view engine","html"),app.set("views","./app/views"),app.set("view cache",!1),swig.setDefaults({cache:!1}),app.use(express.json()),app.use(express.urlencoded()),app.use(express.cookieParser()),app.use(express.methodOverride()),app.use(express.static("./public")),app.use(app.router),app.use(function(e,s){return s.status(404),e.accepts("html")?(s.render("404",{url:e.url}),void 0):e.accepts("json")?(s.send({error:"Not found"}),void 0):void 0}),app.use(function(e,s,r){r.status(e.status||500),r.render("500",{error:e})}),app.get("/404",function(e,s,r){r()}),app.get("/403",function(e,s,r){var p=new Error("not allowed!");p.status=403,r(p)}),app.get("/500",function(e,s,r){r(new Error("keyboard cat!"))});var home=function(e,s){s.render("index",{env:env})};app.get("/",home),server.listen(process.env.PORT),console.log("Listening");